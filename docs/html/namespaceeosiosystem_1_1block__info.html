<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Документация: Пространство имен eosiosystem::block_info</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Документация
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Поиск','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceeosiosystem_1_1block__info.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Классы</a> &#124;
<a href="#typedef-members">Определения типов</a> &#124;
<a href="#func-members">Функции</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle"><div class="title">Пространство имен eosiosystem::block_info</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Классы</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosiosystem_1_1block__info_1_1block__batch__info.html">block_batch_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosiosystem_1_1block__info_1_1block__info__record.html">block_info_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structeosiosystem_1_1block__info_1_1latest__block__batch__info__result.html">latest_block_batch_info_result</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Определения типов</h2></td></tr>
<tr class="memitem:afeae846ac56f9c10cd082d960f2b0fc2"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceeosiosystem_1_1block__info.html#afeae846ac56f9c10cd082d960f2b0fc2">block_info_table</a> = eosio::multi_index&lt;&quot;blockinfo&quot;_n, <a class="el" href="structeosiosystem_1_1block__info_1_1block__info__record.html">block_info_record</a> &gt;</td></tr>
<tr class="separator:afeae846ac56f9c10cd082d960f2b0fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Функции</h2></td></tr>
<tr class="memitem:a2874613dc8993ab1cc70301c121823c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structeosiosystem_1_1block__info_1_1latest__block__batch__info__result.html">latest_block_batch_info_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceeosiosystem_1_1block__info.html#a2874613dc8993ab1cc70301c121823c6">get_latest_block_batch_info</a> (uint32_t batch_start_height_offset, uint32_t batch_size, eosio::name system_account_name=&quot;eosio&quot;_n)</td></tr>
<tr class="separator:a2874613dc8993ab1cc70301c121823c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:ae5a5c96dd81824619747c6ed5de30d92"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceeosiosystem_1_1block__info.html#ae5a5c96dd81824619747c6ed5de30d92">rolling_window_size</a> = 10</td></tr>
<tr class="separator:ae5a5c96dd81824619747c6ed5de30d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Типы</h2>
<a id="afeae846ac56f9c10cd082d960f2b0fc2" name="afeae846ac56f9c10cd082d960f2b0fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeae846ac56f9c10cd082d960f2b0fc2">&#9670;&nbsp;</a></span>block_info_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="namespaceeosiosystem_1_1block__info.html#afeae846ac56f9c10cd082d960f2b0fc2">eosiosystem::block_info::block_info_table</a> = typedef eosio::multi_index&lt;&quot;blockinfo&quot;_n, <a class="el" href="structeosiosystem_1_1block__info_1_1block__info__record.html">block_info_record</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Функции</h2>
<a id="a2874613dc8993ab1cc70301c121823c6" name="a2874613dc8993ab1cc70301c121823c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2874613dc8993ab1cc70301c121823c6">&#9670;&nbsp;</a></span>get_latest_block_batch_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structeosiosystem_1_1block__info_1_1latest__block__batch__info__result.html">latest_block_batch_info_result</a> eosiosystem::block_info::get_latest_block_batch_info </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>batch_start_height_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">eosio::name&#160;</td>
          <td class="paramname"><em>system_account_name</em> = <code>&quot;eosio&quot;_n</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Get information on the latest block batch.</p>
<p >A block batch is a contiguous range of blocks of a particular size. A sequence of blocks can be partitioned into a sequence of block batches, where all except for perhaps the last batch in the sequence have the same size. The last batch in the sequence can have a smaller size if the blocks of the blockchain that would complete that batch have not yet been generated or recorded.</p>
<p >This function enables the caller to specify a particular partitioning of the sequence of blocks into a sequence of block batches of a particular non-zero size (<code>batch_size</code>) and then isolates the last block batch in that sequence and returns the information about that latest block batch if possible. The partitioning will ensure that <code>batch_start_height_offset</code> will be equal to the starting block height of exactly one of block batches in the sequence.</p>
<p >The information about the latest block batch is the same data captured in <code><a class="el" href="structeosiosystem_1_1block__info_1_1block__batch__info.html">block_batch_info</a></code>. Particularly, it returns the height and timestamp of starting and ending blocks within that latest block batch. Note that the range spanning from the start to end block of the latest block batch may be less than batch_size because latest block batch may be incomplete. Also, it is possible for the record capturing info for the starting block to not exist in the blockinfo table. This can either be due to the records being erased as they fall out of the rolling window or, in rare cases, due to gaps in block info records due to failures of the onblock action. In such a case, this function will be unable to return a <code><a class="el" href="structeosiosystem_1_1block__info_1_1block__batch__info.html">block_batch_info</a></code> and will instead be forced to return the <code>insufficient_data</code> error code. Furthermore, if <code>batch_start_height_offset</code> is greater than the height of the latest block for which information is recorded in the blockinfo table, there will be no latest block batch identified for the function to return information about and so it will again be forced to return the <code>insufficient_data</code> error code instead. </p>

</div>
</div>
<h2 class="groupheader">Переменные</h2>
<a id="ae5a5c96dd81824619747c6ed5de30d92" name="ae5a5c96dd81824619747c6ed5de30d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5a5c96dd81824619747c6ed5de30d92">&#9670;&nbsp;</a></span>rolling_window_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t eosiosystem::block_info::rolling_window_size = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceeosiosystem.html">eosiosystem</a></li><li class="navelem"><a class="el" href="namespaceeosiosystem_1_1block__info.html">block_info</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
